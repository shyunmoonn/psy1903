knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(estimatr)
library(haven)
library(stargazer)
ChinaJapan <- ChinaJapan |>
rowwise() |>
mutate(avg_affect_japan = mean(c(JapanPos, JapanWarm, JapanAdmire, JapanRespect), na.rm = 1),
avg_affect_china = mean(c(ChinaPos, ChinaWarm, ChinaAdmire, ChinaRespect), na.rm = 1),
avg_ID_diff = avg_affect_japan - avg_affect_china)
# load the data
ChinaJapan <- read_csv('ChinaJapanData.csv')
ChinaJapan <- ChinaJapan |>
rowwise() |>
mutate(avg_affect_japan = mean(c(JapanPos, JapanWarm, JapanAdmire, JapanRespect), na.rm = 1),
avg_affect_china = mean(c(ChinaPos, ChinaWarm, ChinaAdmire, ChinaRespect), na.rm = 1),
avg_ID_diff = avg_affect_japan - avg_affect_china)
ChinaJapan <- ChinaJapan |>
rowwise() |>
mutate(avg_affect_japan = mean(c(JapanPos, JapanWarm, JapanAdmire, JapanRespect), na.rm = 1),
avg_affect_china = mean(c(ChinaPos, ChinaWarm, ChinaAdmire, ChinaRespect), na.rm = 1),
avg_ID_diff = avg_affect_japan - avg_affect_china)
difference_in_means(JapanPos ~ treated,
data = ChinaJapan)
difference_in_means(avg_affect_japan ~ treated,
data = ChinaJapan)
## ingroup
difference_in_means(avg_affect_china ~ treated,
data = ChinaJapan)
## decreased affective polarization compared to baseline
difference_in_means(avg_ID_diff ~ treated,
data = ChinaJapan)
diff_affect_japan <- difference_in_means(avg_affect_japan ~ treated,
data = ChinaJapan)
diff_japanPos <- difference_in_means(JapanPos ~ treated,
data = ChinaJapan)
diff_japanWarm <- difference_in_means(JapanWarm ~ treated,
data = ChinaJapan)
diff_japanAdmire <- difference_in_means(JapanAdmire ~ treated,
data = ChinaJapan)
diff_japanRespect <- difference_in_means(JapanRespect ~ treated,
data = ChinaJapan)
diff_affect_japan <- difference_in_means(avg_affect_japan ~ treated,
data = ChinaJapan)
# Next, we extract information from these lists
# and we save them as vectors that you will use to make the data for the plot
outcomes <- c('Japanese Identity Rating', 'Chinese Identity Rating', 'Identity Difference') # for this vector we have to make it ourselves based on what we want the plot's labels to be
pointests <- c(JapanIDdiff$coefficients, ChinaIDdiff$coefficients, Diff_in_ID_diff$coefficients)
diff_japanPos <- difference_in_means(JapanPos ~ treated,
data = ChinaJapan)
diff_japanWarm <- difference_in_means(JapanWarm ~ treated,
data = ChinaJapan)
diff_japanAdmire <- difference_in_means(JapanAdmire ~ treated,
data = ChinaJapan)
diff_japanRespect <- difference_in_means(JapanRespect ~ treated,
data = ChinaJapan)
diff_affect_japan <- difference_in_means(avg_affect_japan ~ treated,
data = ChinaJapan)
# Next, we extract information from these lists
# and we save them as vectors that you will use to make the data for the plot
outcomes <- c('Japanese Identity Rating', 'Chinese Identity Rating', 'Identity Difference') # for this vector we have to make it ourselves based on what we want the plot's labels to be
pointests <- c(JapanIDdiff$coefficients, ChinaIDdiff$coefficients, Diff_in_ID_diff$coefficients)
# Next, we extract information from these lists
# and we save them as vectors that you will use to make the data for the plot
outcomes <- c('Japanese Identity Rating', 'Chinese Identity Rating', 'Identity Difference') # for this vector we have to make it ourselves based on what we want the plot's labels to be
pointests <- c(JapanIDdiff$coefficients, ChinaIDdiff$coefficients, Diff_in_ID_diff$coefficients)
---
title: 'Data Exploration: Intergroup Contact'
# First, store the t-tests as new objects in R
JapanIDdiff <- difference_in_means(JapanID_avg ~ treated, data = ChinaJapan)
ChinaIDdiff <- difference_in_means(ChinaID_avg ~ treated, data = ChinaJapan)
Diff_in_ID_diff <- difference_in_means(ID_diff_avg ~ treated, data = ChinaJapan)
# These objects are called lists;
# they store values like point estimates and confidence intervals of statistical tests
# Next, we extract information from these lists
# and we save them as vectors that you will use to make the data for the plot
outcomes <- c('Japanese Identity Rating', 'Chinese Identity Rating', 'Identity Difference') # for this vector we have to make it ourselves based on what we want the plot's labels to be
pointests <- c(JapanIDdiff$coefficients, ChinaIDdiff$coefficients, Diff_in_ID_diff$coefficients)
lowbounds <- c(JapanIDdiff$conf.low, ChinaIDdiff$conf.low, Diff_in_ID_diff$conf.low)
upbounds <- c(JapanIDdiff$conf.high, ChinaIDdiff$conf.high, Diff_in_ID_diff$conf.high)
# Combine the vectors into a data frame
treatment_effect_plot_data <- tibble(outcomes,pointests,lowbounds,upbounds)
# Make the plot
ggplot(treatment_effect_plot_data, mapping=aes(x=factor(outcomes, levels = outcomes), y=pointests, ymin=lowbounds, ymax=upbounds)) + geom_pointrange() + geom_hline(yintercept = 0, linetype = 'dashed') + coord_flip() + xlab('Experimental Outcomes') + ylab('Treatment Effect (with 95% CI)')
# Why did we use the factor() function for defining the x-axis?
# If you take the factor() function with the `levels =' argument out of the code,
# the x-axis will default to being in alphabetical order.
JapanIDdiff <- difference_in_means(JapanID_avg ~ treated,
data = ChinaJapan)
ChinaIDdiff <- difference_in_means(ChinaID_avg ~ treated,
data = ChinaJapan)
ID_Diff_effect <- difference_in_means(ID_diff_avg ~ treated,
data = ChinaJapan)
list(JapanIDdiff, ChinaIDdiff, ID_Diff_effect)
difference_in_means(InPartyAffect_avg ~ Treated,
data=ClassExperiment)
# load the data
ClassExperiment <- read_csv('Nov6ClassData.csv')
difference_in_means(OutPartyAffect_avg ~ Treated,
data=ClassExperiment)
difference_in_means(InPartyAffect_avg ~ Treated,
data=ClassExperiment)
difference_in_means(OutPartyAffect_avg ~ Treated,
data=ClassExperiment)
setwd("~/Desktop/psy1903") # Update to your path
dir.create("web/npt_project/data/raw", recursive = TRUE, showWarnings = FALSE)
dir.create("web/npt_project/data/cleaned", recursive = TRUE, showWarnings = FALSE)
dir.create("web/npt_project/scripts", recursive = TRUE, showWarnings = FALSE)
dir.create("web/npt_project/reports", recursive = TRUE, showWarnings = FALSE)
# Create placeholder R Script and Quarto Report files
file.create("web/npt_project/scripts/score_questionnaire.R")
file.create("web/npt_project/scripts/process_participant.R")
file.create("web/npt_project/reports/npt_import.qmd")
# Create the R Project file
file.create("web/npt_project/npt_project.RProj")
project_text <- "Version: 1.0\n\nRestoreWorkspace: Default\nSaveWorkspace: Default\nAlwaysSaveHistory: Default\n\nEnableCodeIndexing: Yes\nUseSpacesForTab: Yes\nNumSpacesForTab: 4\nEncoding: UTF-8\n\nRnwWeave: Sweave\nLaTeX: pdfLaTeX"
writeLines(project_text, "web/npt_project/npt_project.RProj")
project_text <- "Version: 1.0\n\nRestoreWorkspace: Default\nSaveWorkspace: Default\nAlwaysSaveHistory: Default\n\nEnableCodeIndexing: Yes\nUseSpacesForTab: Yes\nNumSpacesForTab: 4\nEncoding: UTF-8\n\nRnwWeave: Sweave\nLaTeX: pdfLaTeX"
writeLines(project_text, "web/npt_project/npt_project.RProj")
setwd("~/Desktop/psy1903") # Update to your path
dir.create("web/npt_project/data/raw", recursive = TRUE, showWarnings = FALSE)
dir.create("web/npt_project/data/cleaned", recursive = TRUE, showWarnings = FALSE)
dir.create("web/npt_project/scripts", recursive = TRUE, showWarnings = FALSE)
dir.create("web/npt_project/reports", recursive = TRUE, showWarnings = FALSE)
# Create placeholder R Script and Quarto Report files
file.create("web/npt_project/scripts/score_questionnaire.R")
file.create("web/npt_project/scripts/process_participant.R")
file.create("web/npt_project/reports/npt_import.qmd")
# Create the R Project file
file.create("web/npt_project/npt_project.RProj")
