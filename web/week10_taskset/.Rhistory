getwd()
set.seed(1903)
iat_data <- data.frame(
subject_id = 1:40,
rt = round(rnorm(40, mean = 520, sd = 120)),
congruent = sample(c(TRUE, FALSE), 40, replace = TRUE),
condition = sample(c("control", "incongruent"), 40, replace = TRUE)
)
# Randomly assign two NA values in the rt column
iat_data$rt[sample(1:nrow(iat_data), 2)] <- NA
# Save for later use
saveRDS(iat_data, file = "../data/raw/iat_data.rds")
```
# Save for later use
saveRDS(iat_data, file = "../data/raw/iat_data.rds")
set.seed(1903)
iat_data <- data.frame(
subject_id = 1:40,
rt = round(rnorm(40, mean = 520, sd = 120)),
congruent = sample(c(TRUE, FALSE), 40, replace = TRUE),
condition = sample(c("control", "incongruent"), 40, replace = TRUE)
)
# Randomly assign two NA values in the rt column
iat_data$rt[sample(1:nrow(iat_data), 2)] <- NA
# Save for later use
saveRDS(iat_data, file = "../data/raw/iat_data.rds")
iat_data_summary <- summary(iat_data)
mean(iat_data$rt, na.rm=TRUE)
str(iat_data)
## Generate one or more random numbers between min and max (defaults: one number between 1â€“10)
getRandomNumber <- function(min = 1, max = 10, number = 1) {
sample(min:max, number)
}
View(iat_data)
classify_rt <- function(rt, threshold = 500) {
if(!is.numeric(rt)) {
stop("Error: 'rt' must be numeric.")
}
if(!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
category <- ifelse(is.na(rt), "Unknown",
ifelse(rt < threshold, "Fast", "Slow"))
return(category)
}
## Generate one or more random numbers between min and max (defaults: one number between 1â€“10)
getRandomNumber <- function(min = 1, max = 10, number = 1) {
sample(min:max, number)
}
View(getRandomNumber)
getRandomNumber
experiment_data$age <- NA
data.frame(experiment_data)
## Load the saved dataset
experiment_data <- readRDS("../data/raw/experiment_data.rds")
## Take a quick look at the first few rows
head(experiment_data)
## Check the structure of the dataset
str(experiment_data)
experiment_data$age <- NA
View(experiment_data)
for (i in 1:nrow(experiment_data)) {
if(is.na(experiment_data[i, "age"])) {
experiment_data[i, "age"] <- getRandomNumber(18, 65)
}
for (i in 1:nrow(experiment_data)) {
if(is.na(experiment_data[i, "age"])) {
experiment_data[i, "age"] <- getRandomNumber(18, 65)
}
View(experiment_data)
View(experiment_data)
for (i in 1:nrow(experiment_data)) {
if(is.na(experiment_data[i, "age"])) {
experiment_data[i, "age"] <- getRandomNumber(18, 65)
}
}
View(experiment_data)
head(experiment_data)
experiment_data$age <- sample(18:65, nrow(experiment_data), replace = TRUE)
View(experiment_data)
head(experiment_data)
experiment_data$rt_category_loop <-
for(i in 1:nrow(experiment_data)) {
classify_rt()
}
experiment_data$rt_category_loop <- NA
experiment_data$rt_category_loop <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data$rt_category_loop[i] <- classify_rt(experiment_data$reaction_time)
}
experiment_data$rt_category_loop <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data$rt_category_loop[i] <- classify_rt(experiment_data$reaction_time[i])
}
classify_rt(experiment_data)
classify_rt(experiment_data, na.rm = TRUE)
for (i in 1:nrow(experiment_data) {
for (i in 1:nrow(experiment_data)) {
if(is.na(experiment_data[i, "rt"])) {
experiment_data[i, "rt_category_loop"] <- classify_rt(experiment_data)
}
}
str(experiment_data)
for (i in 1:nrow(experiment_data)) {
if(is.na(experiment_data[i, "rt"])) {
experiment_data[i, "rt_category_loop"] <- classify_rt(experiment_data, na.rm = TRUE)
}
}
for (i in 1:nrow(experiment_data)) {
if(is.na(experiment_data[i, "rt"])) {
experiment_data[i, "rt_category_loop"] <- classify_rt(experiment_data$rt[i])
}
}
for (i in 1:nrow(experiment_data)) {
if(is.na(experiment_data[i, "rt"])) {
experiment_data[i, "rt_category_loop"] <- classify_rt(experiment_data$rt[i])
}
}
experiment_data$rt_category_vec <- NA
experiment_data$rt_category_vec <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(
classify_rt(experiment_data$rt_category_vec[i])
)
)
experiment_data$rt_category_vec <- NA
experiment_data$rt_category_vec <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(
classify_rt(experiment_data$rt_category_vec[i])
)
)
experiment_data$rt_category_vec <- ifelse(
is.na(experiment_data$rt), "Unknown",
classify_rt(experiment_data$rt)
)
experiment_data$rt_category_loop <- NA
for (i in 1:nrow(experiment_data)) {
if(is.na(experiment_data[i, "rt"])) {
experiment_data[i, "rt_category_loop"] <- "Unknown"
} else (classify_rt(experiment_data$rt[i]))
}
View(experiment_data)
for (i in 1:nrow(experiment_data)) {
if (is.na(experiment_data[i, "rt"])) {
experiment_data[i, "rt_category_loop"] <- "Unknown"
} else {
experiment_data[i, "rt_category_loop"] <- classify_rt(experiment_data$rt[i])
}
}
View(experiment_data)
table(loop = experiment_data$rt_category_loop,
vec  = experiment_data$rt_category_vec,
useNA = "ifany")
threshold <- 500
flag_fast <- function(rt_vector) {
rt_vector < threshold
}
flag_fast(experiment_data$rt)
rm(threshold)
flag_fast(experiment_data$rt)
flag_fast <- function(rt_vector) {
rt_vector <- 500
}
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
# How many NAs overall?
sum(is.na(experiment_data$rt))
# How many NAs by condition?
tapply(is.na(experiment_data$rt), experiment_data$condition, sum)
# Optional: quick sanity checks
summary(experiment_data$rt)
with(experiment_data, table(condition, is.na(rt)))
sum(is.na(experiment_data$rt))
# How many NAs by condition?
tapply(is.na(experiment_data$rt), experiment_data$condition, sum)
subject_means <- tapply(experiment_data$rt,
!is.na(experiment_data$condition),
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(!is.na(experiment_data$rt),
(experiment_data$condition),
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(!is.na(experiment_data$rt),
(experiment_data$condition),
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply((!is.na(experiment_data$rt)),
(experiment_data$condition),
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean,
na.rm = TRUE)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(!is.na(experiment_data$rt),
experiment_data$condition,
mean,
na.rm = TRUE)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
experiment_data$rt_category_vec <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(
classify_rt(experiment_data$rt_category_vec[i])
)
)
experiment_data$rt_category_vec <- ifelse(
is.na(experiment_data$rt),
"Unknown",
sapply(experiment_data$rt, classify_rt)
)
View(experiment_data)
rm(experiment_data$rt_category_vec)
experiment_data$rt_category_vec <- NULL
experiment_data$rt_category_vec <- ifelse(
is.na(experiment_data$rt),
"Unknown",
sapply(experiment_data$rt, classify_rt)
)
write.csv(experiment_data)
saveRDS(experiment_data)
## Q8.1 Cleaned Dataset
write.csv(experiment_data)
write.csv(experiment_data, "data/cleaned/experiment_data.csv")
## Q8.1 Cleaned Dataset
write.csv(experiment_data, "data/cleaned/experiment_data.csv")
write.csv(experiment_data, "data/cleaned/experiment_data.csv")
write.csv(experiment_data)
write.csv(experiment_data, "experiment_data.csv")
write.csv(experiment_data, "data/cleaned/experiment_data.csv")
write.csv("data/cleaned/experiment_data.csv")
write.csv(experiment_data, "experiment_data.csv")
write.csv(experiment_data, file = "data/cleaned")
write.csv(experiment_data, file = "data/cleaned/experiment_data.csv")
write.csv(experiment_data, file = "data/cleaned/experiment_data.csv", row.names = FALSE)
write.csv(experiment_data, file = "data/cleaned/experiment_data.csv", row.names = FALSE)
write.csv(experiment_data, file = "../data/cleaned/experiment_data.csv", row.names = FALSE)
write.csv(experiment_data, file = "../data/cleaned/experiment_data_revised.csv", row.names = FALSE)
saveRDS(experiment_data, file = "../data/cleaned/experiment_data_revised.rds")
save(experiment_data, subject_means, file = "objects.RData")
getwd()
save(experiment_data, subject_means, file = "../data/cleaned/objects.RData")
(rm(list = ls))
(rm(list = ls))
rm(list = ls)
rm(list = ls())
##...called object.RData back!
load("../data/cleaned/objects.RData")
