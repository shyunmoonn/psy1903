score_behavioral <- function(data) {
## Separate data into block and trial_types
## Practice trials only
practice_filtered <- data[data$block == "practice", ]
## Magnitude trials only
magnitude_filtered <- data[data$block == "experiment" & data$trial_type == "magnitude", ]
## Parity trials only
parity_filtered <- data[data$block == "experiment" & data$trial_type == "parity", ]
## Filter out unreasonable reaction times, keeping 250-900 ms
practice_filtered <- practice_filtered[practice_filtered$rt >= 250 & practice_filtered$rt <= 900, ]
magnitude_filtered <- magnitude_filtered[magnitude_filtered$rt >= 250 & magnitude_filtered$rt <= 900, ]
parity_filtered <- parity_filtered[parity_filtered$rt >= 250 & parity_filtered$rt <= 900, ]
## Calculate mean reaction time and accuracy for each trial type
practice_mean_rt <- mean(practice_filtered$rt, na.rm = TRUE)
practice_acc <- mean(practice_filtered$correct, na.rm = TRUE)
magnitude_mean_rt <- mean(magnitude_filtered$rt, na.rm = TRUE)
magnitude_acc <- mean(magnitude_filtered$correct, na.rm = TRUE)
parity_mean_rt <- mean(parity_filtered$rt, na.rm = TRUE)
parity_acc <- mean(parity_filtered$correct, na.rm = TRUE)
return(practice_filtered, magnitude_filtered, parity_filtered, practice_mean_rt, practice_acc, magnitude_mean_rt, magnitude_acc, parity_mean_rt, parity_acc)
}
participant_data <- read.csv("data/raw/npt-experiment-2025-11-05-10-33-05.csv")
str(participant_data)
participant_data$correct <- as.logical(participant_data$correct)
str(participant_data)
score_behavioral <- function(data) {
## Separate data into block and trial_types
## Practice trials only
practice_filtered <- data[data$block == "practice", ]
## Magnitude trials only
magnitude_filtered <- data[data$block == "experiment" & data$trial_type == "magnitude", ]
## Parity trials only
parity_filtered <- data[data$block == "experiment" & data$trial_type == "parity", ]
## Filter out unreasonable reaction times, keeping 250-900 ms
practice_filtered <- practice_filtered[practice_filtered$rt >= 250 & practice_filtered$rt <= 900, ]
magnitude_filtered <- magnitude_filtered[magnitude_filtered$rt >= 250 & magnitude_filtered$rt <= 900, ]
parity_filtered <- parity_filtered[parity_filtered$rt >= 250 & parity_filtered$rt <= 900, ]
## Calculate mean reaction time and accuracy for each trial type
practice_mean_rt <- mean(practice_filtered$rt, na.rm = TRUE)
practice_acc <- mean(practice_filtered$correct, na.rm = TRUE)
magnitude_mean_rt <- mean(magnitude_filtered$rt, na.rm = TRUE)
magnitude_acc <- mean(magnitude_filtered$correct, na.rm = TRUE)
parity_mean_rt <- mean(parity_filtered$rt, na.rm = TRUE)
parity_acc <- mean(parity_filtered$correct, na.rm = TRUE)
return(practice_filtered, magnitude_filtered, parity_filtered, practice_mean_rt, practice_acc, magnitude_mean_rt, magnitude_acc, parity_mean_rt, parity_acc)
}
score_behavioral(participant_data)
score_behavioral <- function(data) {
## Separate data into block and trial types
practice_filtered  <- data[data$block == "practice", ]
magnitude_filtered <- data[data$block == "experiment" & data$trial_type == "magnitude", ]
parity_filtered    <- data[data$block == "experiment" & data$trial_type == "parity", ]
## Filter out unreasonable reaction times (keep 250â€“900 ms)
practice_filtered  <- practice_filtered[practice_filtered$rt  >= 250 & practice_filtered$rt  <= 900, ]
magnitude_filtered <- magnitude_filtered[magnitude_filtered$rt >= 250 & magnitude_filtered$rt <= 900, ]
parity_filtered    <- parity_filtered[parity_filtered$rt    >= 250 & parity_filtered$rt    <= 900, ]
## Calculate mean reaction time and accuracy for each trial type
practice_mean_rt  <- mean(practice_filtered$rt, na.rm = TRUE)
practice_acc      <- mean(practice_filtered$correct, na.rm = TRUE)
magnitude_mean_rt <- mean(magnitude_filtered$rt, na.rm = TRUE)
magnitude_acc     <- mean(magnitude_filtered$correct, na.rm = TRUE)
parity_mean_rt    <- mean(parity_filtered$rt, na.rm = TRUE)
parity_acc        <- mean(parity_filtered$correct, na.rm = TRUE)
## Return a one-row data frame
return(data.frame(
practice_mean_rt  = practice_mean_rt,
practice_acc      = practice_acc,
magnitude_mean_rt = magnitude_mean_rt,
magnitude_acc     = magnitude_acc,
parity_mean_rt    = parity_mean_rt,
parity_acc        = parity_acc
))
}
score_behavioral(participant_data)
